(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[688],{7515:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/business/[id]",function(){return s(7593)}])},7593:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var n=s(5893),i=s(1163),r=s(7294);let l=Symbol.for("constructDateFrom");function a(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&l in e?e[l](t):e instanceof Date?new e.constructor(t):new Date(t)}function o(e,t,s){let n=a((null==s?void 0:s.in)||e,e);if(isNaN(t))return a((null==s?void 0:s.in)||e,NaN);if(!t)return n;let i=n.getDate(),r=a((null==s?void 0:s.in)||e,n.getTime());return(r.setMonth(n.getMonth()+t+1,0),i>=r.getDate())?r:(n.setFullYear(r.getFullYear(),r.getMonth(),i),n)}function c(e,t){return+a(e,e)>+a(t,t)}function d(){let e=(0,i.useRouter)(),{id:t}=e.query,[s,l]=(0,r.useState)(null);(0,r.useEffect)(()=>{t&&a(t)},[t]);let a=async e=>{try{let t=await fetch("https://lightslategray-mink-295930.hostingersite.com/api/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'\n            {\n              business(where: { id: "'.concat(e,'" }) {\n                id\n                name\n                description\n                contactEmail\n                contactPhone\n                industry\n                location\n                yearFounded\n                typeOfEntity\n                revenue\n                employeeCount\n                keywords\n                companyLinkedIn\n                companyFacebook\n                companyTwitter\n                technologiesUsed\n                reviews(where: {moderationStatus: {equals: "0" }}) {\n                  rating\n                  content\n                }\n                complaints(where: { status: {equals: "0" } }) {\n                    createdAt\n                }\n              }\n            }\n          ')})}),s=await t.json();l(s.data.business)}catch(e){console.error("Error fetching business details:",e)}};if(!s)return(0,n.jsx)("p",{className:"text-center text-gray-500 mt-10",children:"Loading..."});let d=s.reviews.length,m=(s.reviews.reduce((e,t)=>e+Number(t.rating),0)/d).toFixed(1),h=new Date,x=o(h,-36,void 0),u=o(h,-12,void 0),b=s.complaints.filter(e=>c(new Date(e.createdAt),x)).length,p=s.complaints.filter(e=>c(new Date(e.createdAt),u)).length;return(0,n.jsxs)("div",{className:"container mx-auto mt-10 p-4",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold mb-4",children:s.name}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,n.jsxs)("div",{className:"md:col-span-2 bg-white p-8 shadow-lg rounded-lg border-t-4 border-blue-500",children:[(0,n.jsxs)("div",{className:"flex items-center mb-4",children:[(0,n.jsx)("i",{className:"bi bi-info-circle text-blue-500 text-3xl mr-2"}),(0,n.jsxs)("h2",{className:"text-3xl font-bold",children:["About ",s.name]})]}),(0,n.jsx)("p",{className:"text-gray-700 text-lg leading-relaxed",children:s.description||"No description available."})]}),(0,n.jsxs)("div",{className:"bg-white p-6 shadow-lg rounded-lg border-t-4 border-teal-500",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Contact Information"}),(0,n.jsxs)("p",{className:"flex items-center mb-2 text-gray-700",children:[(0,n.jsx)("i",{className:"bi bi-geo-alt text-blue-500 mr-2"})," ",s.location||"N/A"]}),(0,n.jsxs)("p",{className:"flex items-center mb-2 text-gray-700",children:[(0,n.jsx)("i",{className:"bi bi-envelope text-blue-500 mr-2"}),(0,n.jsx)("a",{href:"mailto:".concat(s.contactEmail),className:"text-blue-500 hover:underline",children:"Email this Business"})]}),(0,n.jsxs)("p",{className:"flex items-center mb-4 text-gray-700",children:[(0,n.jsx)("i",{className:"bi bi-telephone text-blue-500 mr-2"}),(0,n.jsx)("a",{href:"tel:".concat(s.contactPhone),className:"text-blue-500 hover:underline",children:s.contactPhone||"N/A"})]}),(0,n.jsxs)("div",{className:"bg-gradient-to-r from-teal-500 to-teal-700 p-4 rounded-lg text-white text-center shadow-md",children:[(0,n.jsx)("p",{className:"mb-4 text-lg font-medium",children:"Want a quote from this business?"}),(0,n.jsx)("button",{onClick:()=>e.push("/quote/".concat(t)),className:"bg-purple-700 hover:bg-purple-800 text-white px-6 py-2 rounded-full transition duration-300 ease-in-out shadow-lg",children:"Get a Quote"})]})]})]}),(0,n.jsxs)("div",{className:"mt-8 bg-white p-8 shadow-lg rounded-lg border-t-4 border-yellow-500",children:[(0,n.jsxs)("div",{className:"flex items-center mb-4",children:[(0,n.jsx)("i",{className:"bi bi-briefcase text-yellow-500 text-3xl mr-2"}),(0,n.jsx)("h3",{className:"text-2xl font-bold",children:"Business Details"})]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Year Founded:"})," ",s.yearFounded||"N/A"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Type of Entity:"})," ",s.typeOfEntity||"N/A"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Revenue:"})," ",s.revenue||"N/A"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Employee Count:"})," ",s.employeeCount||"N/A"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Keywords:"})," ",s.keywords||"N/A"]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Technologies Used:"})," ",s.technologiesUsed||"N/A"]})]}),(0,n.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,n.jsxs)("div",{className:"bg-white p-6 shadow-lg rounded-lg border-t-4 border-indigo-500",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Social Media"}),s.companyLinkedIn&&(0,n.jsxs)("p",{className:"flex items-center mb-2",children:[(0,n.jsx)("i",{className:"bi bi-linkedin text-indigo-500 mr-2"}),(0,n.jsx)("a",{href:s.companyLinkedIn,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"LinkedIn"})]}),s.companyFacebook&&(0,n.jsxs)("p",{className:"flex items-center mb-2",children:[(0,n.jsx)("i",{className:"bi bi-facebook text-indigo-500 mr-2"}),(0,n.jsx)("a",{href:s.companyFacebook,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Facebook"})]}),s.companyTwitter&&(0,n.jsxs)("p",{className:"flex items-center",children:[(0,n.jsx)("i",{className:"bi bi-twitter text-indigo-500 mr-2"}),(0,n.jsx)("a",{href:s.companyTwitter,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Twitter"})]})]}),(0,n.jsxs)("div",{className:"bg-white p-6 shadow-lg rounded-lg border-t-4 border-yellow-500",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Customer Reviews"}),s.reviews&&s.reviews.length>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center mb-2",children:[(0,n.jsx)("div",{className:"text-yellow-500",children:Array.from({length:5},(e,t)=>{let s=m-t;return s>=1?(0,n.jsx)("i",{className:"bi bi-star-fill"},t):s>=.5?(0,n.jsx)("i",{className:"bi bi-star-half"},t):(0,n.jsx)("i",{className:"bi bi-star"},t)})}),(0,n.jsxs)("span",{className:"ml-2 text-lg font-semibold",children:[m,"/5"]})]}),(0,n.jsxs)("p",{className:"text-gray-600",children:["Average of ",d," Customer Review",d>1?"s":""]}),(0,n.jsx)("button",{onClick:()=>e.push("/review/".concat(t)),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded mt-3 transition duration-300 ease-in-out",children:"View All Reviews or Write Your Own"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"This business has 0 reviews"}),(0,n.jsx)("button",{onClick:()=>e.push("/review/".concat(t)),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded mt-3 transition duration-300 ease-in-out",children:"Be the First to Review!"})]})]}),(0,n.jsxs)("div",{className:"bg-white p-6 shadow-lg rounded-lg border-t-4 border-red-500",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Customer Complaints"}),s.complaints&&s.complaints.length>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{className:"text-red-600",children:[b," complaints closed in last 3 years"]}),(0,n.jsxs)("p",{className:"text-red-600",children:[p," complaints closed in last 12 months"]}),(0,n.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded mt-3",children:"Read Complaints"}),(0,n.jsx)("a",{href:"/complaint/".concat(t),children:(0,n.jsx)("button",{className:"bg-red-600 text-white px-4 py-2 rounded mt-3 hover:bg-red-700 transition duration-300 ease-in-out",children:"File a Complaint"})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"This business has 0 complaints"}),(0,n.jsx)("a",{href:"/complaint/".concat(t),children:(0,n.jsx)("button",{className:"bg-red-600 text-white px-4 py-2 rounded mt-3 hover:bg-red-700 transition duration-300 ease-in-out",children:"File a Complaint"})})]})]})]})]})}},1163:function(e,t,s){e.exports=s(6036)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=7515)}),_N_E=e.O()}]);