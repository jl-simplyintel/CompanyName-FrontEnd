(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{7452:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bulk-upload",function(){return a(6410)}])},6410:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return l},default:function(){return c}});var s=a(5893),r=a(7294),n=a(7460),o=a.n(n),d=a(7632),l=!0;function c(){let[e,t]=(0,r.useState)(null),[a,n]=(0,r.useState)([]),[l,c]=(0,r.useState)(""),i=(e,t,s)=>{let r=[...a];r[e][t]=s,n(r)},p=async()=>{try{let e=await fetch("http://localhost:3001/api/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n                        mutation($data: [BusinessCreateInput!]!) {\n                            createBusinesses(data: $data) {\n                                id\n                            }\n                        }\n                    ",variables:{data:a}})}),t=await e.json();t.errors?(c("An error occurred during the upload."),console.error(t.errors)):c("Businesses uploaded successfully!")}catch(e){c("An error occurred during the upload."),console.error("Upload error:",e)}};return(0,s.jsxs)("div",{className:"container mx-auto mt-10 p-6 bg-gray-100 rounded-lg shadow-md ",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-6 text-center text-gray-800",children:"Bulk Upload Businesses"}),(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)("button",{onClick:()=>{let e=encodeURI("data:text/csv;charset=utf-8,".concat("id,name,description,industry,contactEmail,contactPhone,website,location,address,yearFounded,typeOfEntity,businessHours,revenue,employeeCount,keywords,companyLinkedIn,companyFacebook,companyTwitter,technologiesUsed,sicCodes,manager","\n")),t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","businesses_template.csv"),document.body.appendChild(t),t.click(),document.body.removeChild(t)},className:"bg-green-500 text-white px-4 py-2 rounded shadow hover:bg-green-600 transition duration-200",children:"Download CSV Template"})}),l&&(0,s.jsx)("p",{className:"mb-4 text-center text-red-500",children:l}),(0,s.jsxs)("div",{className:"bg-white p-8 shadow-md rounded-md mb-8",children:[(0,s.jsx)("label",{className:"block text-gray-700 mb-2 font-semibold",children:"Upload CSV or JSON"}),(0,s.jsx)("input",{type:"file",accept:".csv, .json",onChange:e=>{t(e.target.files[0])},className:"mb-4 w-full border p-2 rounded-md"}),(0,s.jsx)("button",{onClick:()=>{if(!e){c("Please select a file to parse.");return}if("application/json"===e.type){let t=new FileReader;t.onload=e=>{try{let t=JSON.parse(e.target.result).map(e=>({id:(0,d.Z)(),name:e.name||"",description:e.description||"",industry:e.industry||"other",contactEmail:e.contactEmail||"",contactPhone:e.contactPhone&&parseInt(e.contactPhone,10)||0,website:e.website||"",location:e.location||"",address:e.address||"",yearFounded:e.yearFounded&&parseInt(e.yearFounded,10)||0,typeOfEntity:e.typeOfEntity||"LLC",businessHours:e.businessHours||"",revenue:e.revenue&&parseInt(e.revenue,10)||0,employeeCount:e.employeeCount&&parseInt(e.employeeCount,10)||0,keywords:e.keywords||"",companyLinkedIn:e.companyLinkedIn||"",companyFacebook:e.companyFacebook||"",companyTwitter:e.companyTwitter||"",technologiesUsed:e.technologiesUsed||"",sicCodes:e.sicCodes&&parseInt(e.sicCodes,10)||0,manager:e.manager||""}));n(t)}catch(e){c("Invalid JSON format.")}},t.readAsText(e)}else"text/csv"===e.type?o().parse(e,{header:!0,complete:e=>{n(e.data.map(e=>({id:(0,d.Z)(),name:e.name||"",description:e.description||"",industry:e.industry||"other",contactEmail:e.contactEmail||"",contactPhone:e.contactPhone&&parseInt(e.contactPhone,10)||0,website:e.website||"",location:e.location||"",address:e.address||"",yearFounded:e.yearFounded&&parseInt(e.yearFounded,10)||0,typeOfEntity:e.typeOfEntity||"LLC",businessHours:e.businessHours||"",revenue:e.revenue&&parseInt(e.revenue,10)||0,employeeCount:e.employeeCount&&parseInt(e.employeeCount,10)||0,keywords:e.keywords||"",companyLinkedIn:e.companyLinkedIn||"",companyFacebook:e.companyFacebook||"",companyTwitter:e.companyTwitter||"",technologiesUsed:e.technologiesUsed||"",sicCodes:e.sicCodes&&parseInt(e.sicCodes,10)||0,manager:e.manager||""})))},error:()=>{c("Error parsing CSV file.")}}):c("Unsupported file format. Please upload a CSV or JSON file.")},className:"bg-blue-500 text-white px-4 py-2 rounded shadow hover:bg-blue-600 transition duration-200 w-full",children:"Parse File"})]}),a.length>0&&(0,s.jsxs)("div",{className:"bg-white p-8 shadow-md rounded-md",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Edit Data"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full bg-white border border-gray-300",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"ID"}),(0,s.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Name"}),(0,s.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Description"}),(0,s.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Industry"}),(0,s.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Email"}),(0,s.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Phone"}),(0,s.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Website"}),(0,s.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Location"}),(0,s.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Address"}),(0,s.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Year Founded"}),(0,s.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Type of Entity"}),(0,s.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Business Hours"}),(0,s.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Revenue"}),(0,s.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Employee Count"}),(0,s.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Keywords"}),(0,s.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"LinkedIn"}),(0,s.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Facebook"}),(0,s.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Twitter"}),(0,s.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Technologies Used"}),(0,s.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"SIC Codes"}),(0,s.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Manager"})]})}),(0,s.jsx)("tbody",{children:a.map((e,t)=>(0,s.jsxs)("tr",{className:"hover:bg-gray-100",children:[(0,s.jsx)("td",{className:"py-2 px-4 border-b",children:e.id}),(0,s.jsx)("td",{className:"py-2 px-4 border-b",children:(0,s.jsx)("input",{type:"text",value:e.name||"",onChange:e=>i(t,"name",e.target.value),className:"w-full p-2 border rounded"})}),(0,s.jsx)("td",{className:"py-2 px-4 border-b",children:(0,s.jsx)("input",{type:"text",value:e.description||"",onChange:e=>i(t,"description",e.target.value),className:"w-full p-2 border rounded"})}),(0,s.jsx)("td",{className:"py-2 px-4 border-b",children:(0,s.jsx)("input",{type:"text",value:e.industry||"",onChange:e=>i(t,"industry",e.target.value),className:"w-full p-2 border rounded"})}),(0,s.jsx)("td",{className:"py-2 px-4 border-b",children:(0,s.jsx)("input",{type:"text",value:e.contactEmail||"",onChange:e=>i(t,"contactEmail",e.target.value),className:"w-full p-2 border rounded"})}),(0,s.jsx)("td",{className:"py-2 px-4 border-b",children:(0,s.jsx)("input",{type:"text",value:e.contactPhone||"",onChange:e=>i(t,"contactPhone",e.target.value),className:"w-full p-2 border rounded"})}),(0,s.jsx)("td",{className:"py-2 px-4 border-b",children:(0,s.jsx)("input",{type:"text",value:e.website||"",onChange:e=>i(t,"website",e.target.value),className:"w-full p-2 border rounded"})}),(0,s.jsx)("td",{className:"py-2 px-4 border-b",children:(0,s.jsx)("input",{type:"text",value:e.location||"",onChange:e=>i(t,"location",e.target.value),className:"w-full p-2 border rounded"})}),(0,s.jsx)("td",{className:"py-2 px-4 border-b",children:(0,s.jsx)("input",{type:"text",value:e.address||"",onChange:e=>i(t,"address",e.target.value),className:"w-full p-2 border rounded"})}),(0,s.jsx)("td",{className:"py-2 px-4 border-b",children:(0,s.jsx)("input",{type:"number",value:e.yearFounded||"",onChange:e=>i(t,"yearFounded",e.target.value),className:"w-full p-2 border rounded"})}),(0,s.jsx)("td",{className:"py-2 px-4 border-b",children:(0,s.jsx)("input",{type:"text",value:e.typeOfEntity||"",onChange:e=>i(t,"typeOfEntity",e.target.value),className:"w-full p-2 border rounded"})}),(0,s.jsx)("td",{className:"py-2 px-4 border-b",children:(0,s.jsx)("input",{type:"text",value:e.businessHours||"",onChange:e=>i(t,"businessHours",e.target.value),className:"w-full p-2 border rounded"})}),(0,s.jsx)("td",{className:"py-2 px-4 border-b",children:(0,s.jsx)("input",{type:"number",value:e.revenue||"",onChange:e=>i(t,"revenue",e.target.value),className:"w-full p-2 border rounded"})}),(0,s.jsx)("td",{className:"py-2 px-4 border-b",children:(0,s.jsx)("input",{type:"number",value:e.employeeCount||"",onChange:e=>i(t,"employeeCount",e.target.value),className:"w-full p-2 border rounded"})}),(0,s.jsx)("td",{className:"py-2 px-4 border-b",children:(0,s.jsx)("input",{type:"text",value:e.keywords||"",onChange:e=>i(t,"keywords",e.target.value),className:"w-full p-2 border rounded"})}),(0,s.jsx)("td",{className:"py-2 px-4 border-b",children:(0,s.jsx)("input",{type:"text",value:e.companyLinkedIn||"",onChange:e=>i(t,"companyLinkedIn",e.target.value),className:"w-full p-2 border rounded"})}),(0,s.jsx)("td",{className:"py-2 px-4 border-b",children:(0,s.jsx)("input",{type:"text",value:e.companyFacebook||"",onChange:e=>i(t,"companyFacebook",e.target.value),className:"w-full p-2 border rounded"})}),(0,s.jsx)("td",{className:"py-2 px-4 border-b",children:(0,s.jsx)("input",{type:"text",value:e.companyTwitter||"",onChange:e=>i(t,"companyTwitter",e.target.value),className:"w-full p-2 border rounded"})}),(0,s.jsx)("td",{className:"py-2 px-4 border-b",children:(0,s.jsx)("input",{type:"text",value:e.technologiesUsed||"",onChange:e=>i(t,"technologiesUsed",e.target.value),className:"w-full p-2 border rounded"})}),(0,s.jsx)("td",{className:"py-2 px-4 border-b",children:(0,s.jsx)("input",{type:"text",value:e.sicCodes||"",onChange:e=>i(t,"sicCodes",e.target.value),className:"w-full p-2 border rounded"})}),(0,s.jsx)("td",{className:"py-2 px-4 border-b",children:(0,s.jsx)("input",{type:"text",value:e.manager||"",onChange:e=>i(t,"manager",e.target.value),className:"w-full p-2 border rounded"})})]},t))})]})}),(0,s.jsx)("div",{className:"flex justify-center mt-4",children:(0,s.jsx)("button",{onClick:p,className:"bg-green-500 text-white px-6 py-2 rounded shadow hover:bg-green-600 transition duration-200",children:"Upload"})})]})]})}}},function(e){e.O(0,[446,888,774,179],function(){return e(e.s=7452)}),_N_E=e.O()}]);